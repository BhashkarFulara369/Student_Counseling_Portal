<!-- templates/base_dashboard.html -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Counseling Portal{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(to right, #e0f7fa, #fff3e0);
      font-family: 'Segoe UI', sans-serif;
      position: relative;
      overflow-x: hidden;
    }
    body::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: url('https://i.imgur.com/4ZQZ4Zy.png') no-repeat bottom right;
      background-size: 250px;
      opacity: 0.08;
      pointer-events: none;
    }

    .navbar { background-color: #00796b; }
    .navbar-brand, .nav-link { color: white !important; }

    .dashboard-container {
      max-width: 900px; margin: 40px auto;
      background: white; padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      position: relative; z-index: 1;
    }

    .section-title {
      font-size: 1.6rem; font-weight: bold;
      margin-bottom: 20px; color: #00796b;
    }

    .step-indicator { margin-bottom: 30px; }
    .step-indicator .step {
      display: inline-block; padding: 10px 20px;
      border-radius: 20px; background-color: #e0f2f1;
      margin-right: 10px; font-weight: 500;
      transition: background-color 0.3s ease;
    }
    .step.active { background-color: #00796b; color: white; }

    .form-control:focus {
      border-color: #00796b;
      box-shadow: 0 0 0 0.2rem rgba(0,121,107,.25);
    }
    .btn-success {
      background-color: #00796b; border: none;
      transition: background-color 0.3s ease;
    }
    .btn-success:hover { background-color: #004d40; }

    .fade-in { animation: fadeIn 0.6s ease-in-out; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }
.status-step {
  border-radius: 20px;
  padding: 8px 16px;
  margin: 0 5px;
  font-weight: 500;
  transition: all 0.3s ease;
  display: inline-block;
  color: white !important;
}

.status-step.active {
  background-color: #2196f3; /* Blue */
  box-shadow: 0 0 12px rgba(33, 150, 243, 0.6);
  opacity: 1 !important;
}

.status-step.inactive {
  background-color: #f44336; /* Red */
  opacity: 0.9;
  box-shadow: none;
}
.status-circle {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: inline-block;
  box-shadow: 0 0 6px rgba(0,0,0,0.2);
}

.status-circle.done {
  background-color: #2196f3; /* Blue */
}

.status-circle.not-done {
  background-color: #f44336; /* Red */
}

.back-home-btn {
  position: fixed;
  bottom: 20px;
  left: 20px;
  background-color: #00796b;
  color: white;
  padding: 10px 16px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 500;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  transition: background-color 0.3s ease;
  z-index: 1000;
}
.back-home-btn:hover {
  background-color: #004d40;
}


  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg">
  <div class="container-fluid justify-content-between">
    <!-- Left: Brand -->
    <a class="navbar-brand" href="#">Counseling Portal</a>

    <!-- Center: Status Circles -->
    <div class="d-flex justify-content-center align-items-center mx-auto">
      <div class="text-center mx-3">
        <div class="status-circle done"></div>
        <div class="fw-semibold text-white small">Done</div>
      </div>
      <div class="text-center mx-3">
        <div class="status-circle not-done"></div>
        <div class="fw-semibold text-white small">Not Done</div>
      </div>
    </div>

    <!-- Right: Status Indicators -->
    <ul class="navbar-nav ms-auto align-items-center">
      <li class="nav-item">
        <span class="nav-link status-step {% block submitted_status %}inactive{% endblock %}" data-bs-toggle="tooltip" title="Form submitted by student">
          üìùApplication Submission
        </span>
      </li>
      <li class="nav-item">
        <span class="nav-link status-step {% block accepted_status %}inactive{% endblock %}" data-bs-toggle="tooltip" title="Waiting for admin approval">
          ‚úÖ Seat Allocation
        </span>
      </li>
      <li class="nav-item">
        <span class="nav-link status-step {% block payment_status %}inactive{% endblock %}" data-bs-toggle="tooltip" title="Payment not yet verified">
          üí≥ Payment Verification
        </span>
      </li>
    </ul>
  </div>
</nav>

  <!-- Container -->
  <div class="dashboard-container fade-in">
    <h2 class="text-center mb-4">Welcome, {{ request.user.username }} üëã</h2>
 

    <!-- Step Indicator -->
    <div class="step-indicator text-center">
      <span class="step {% block step1_indicator %}{% endblock %}">1. Personal Information</span>
      <span class="step {% block step2_indicator %}{% endblock %}">2. Education Details</span>
      <span class="step {% block step3_indicator %}{% endblock %}">3. Branch Choice Filling</span>
    </div>

    {% block content %}{% endblock %}
  </div>
<!-- Back to Home Floating Button -->
<a href="/" class="back-home-btn">
  ‚¨ÖÔ∏è Back to Home
</a>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
    [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el));
  </script>
</body>
</html>
